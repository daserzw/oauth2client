{% extends "/layout.html" %} {% block main %}
<div class="container lead">
  <div class="panel-body text-center">
    <h1>Client Redirect</h1>
  </div>
  <div class="panel-body">
    <p>Here is were the client exchange the authorization code for
      an access token...</p>
  </div>
  <h2>Client Access Token Request</h2>
  <h3>Authentication Server</h3>
  <p>Token endpoint: {{ as_tokent_url }}</p>
  <h3>Parameters</h3>
  <table class="table-bordered table-striped">
    <thead>
      <tr><th>Parameter</th><th>Current Value</th></tr>
    </thead>
    <tbody>
      <tr><td>grant_type</td><td>authorization_code</td></tr>
      <tr><td>code</td><td>{{ code }}</td></tr>
      <tr><td>client_id</td><td>{{ client_id }}</td></tr>
      <tr><td>client_secret</td><td>{{ client_secret }}</td></tr>
      <tr><td>state</td><td>{{ state }}</td></tr>
    </tbody>
  </table>
  <h3>Full Token request</h3>
  <pre class="lead">
    POST {{ token_url }}

    grant_type=authorization_code
    &code={{code}}
    &client_id={{client_id}}
    &client_secret={{client_secret}}
    &redirect_uri={{redirect_uri}}
  </pre>

  <div class="panel-body text-center">
    <a href="{{ url_for('access_token') }}"  class="btn btn-primary btn-lg" role="button">
      Get the Access Token
    </a>
  </div>
</div>
{% endblock %}
